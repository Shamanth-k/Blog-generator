# Blog Generator

AI-powered blog generation platform built with the MERN stack. Users enter a text prompt and receive a comprehensive 1000+ word blog post generated by the Qwen2.5-72B-Instruct model via HuggingFace.

## Overview

This application provides a single-page interface for generating blog content. The backend handles prompt validation, rate limiting, and AI model communication. The frontend provides a minimal, responsive UI with smooth animations.

**Key capabilities:**
- Generate structured blog posts from simple prompts
- Markdown-formatted output with headings, paragraphs, and lists
- Copy generated content to clipboard
- Accessible UI with reduced motion support

## Architecture Summary

```
blog-generator/
├── backend/           Express.js API server
│   └── src/
│       ├── features/  Feature modules (blog, health)
│       ├── infra/     Config, logging
│       └── middleware/Security, rate limiting, error handling
├── frontend/          React single-page application
│   └── src/
│       ├── features/  Feature modules (blog)
│       ├── components/Shared UI components
│       └── design/    Animation system
├── packages/shared/   Shared constants and DTOs
└── docs/              Technical documentation
```

See [docs/ARCHITECTURE.md](docs/ARCHITECTURE.md) for detailed architecture diagrams and component boundaries.

## Requirements

- Node.js 18.0.0 or higher
- npm 9.0.0 or higher
- HuggingFace API key with access to inference endpoints

## Setup

### 1. Clone and install dependencies

```bash
git clone <repository-url>
cd blog-generator
npm run install:all
```

### 2. Configure environment

```bash
cp backend/.env.example backend/.env
```

Edit `backend/.env` and set your HuggingFace API key:

```
HUGGINGFACE_API_KEY=hf_your_api_key_here
```

See [Environment Variables](#environment-variables) for all configuration options.

### 3. Start development servers

```bash
# Terminal 1: Start backend (port 5000)
cd backend
npm run dev

# Terminal 2: Start frontend (port 3000)
cd frontend
npm start
```

The application will be available at `http://localhost:3000`.

## Environment Variables

Create `backend/.env` based on `backend/.env.example`:

| Variable | Required | Default | Description |
|----------|----------|---------|-------------|
| `PORT` | No | `5000` | Server port |
| `NODE_ENV` | No | `development` | Environment mode |
| `HUGGINGFACE_API_KEY` | Yes | - | HuggingFace API token for model access |
| `CORS_ORIGIN` | No | `http://localhost:3000` | Allowed CORS origin |
| `RATE_LIMIT_WINDOW_MS` | No | `60000` | Rate limit window in milliseconds |
| `RATE_LIMIT_MAX` | No | `10` | Maximum requests per window |

## Scripts

### Root

| Command | Description |
|---------|-------------|
| `npm run install:all` | Install dependencies for all packages |
| `npm test` | Run all tests |
| `npm run test:coverage` | Run tests with coverage report |

### Backend (`cd backend`)

| Command | Description |
|---------|-------------|
| `npm run dev` | Start with hot reload (nodemon) |
| `npm start` | Start production server |
| `npm test` | Run backend tests |

### Frontend (`cd frontend`)

| Command | Description |
|---------|-------------|
| `npm start` | Start development server |
| `npm run build` | Create production build |
| `npm test` | Run frontend tests |

## API Reference

Base URL: `http://localhost:5000/api/v1`

### POST /blog/generate

Generate a blog post from a prompt.

**Request:**
```json
{
  "prompt": "Your blog topic (3-500 characters)"
}
```

**Response (200):**
```json
{
  "success": true,
  "blog": "# Blog Title\n\nContent in markdown...",
  "prompt": "Your blog topic",
  "meta": {
    "wordCount": 1023,
    "model": "Qwen/Qwen2.5-72B-Instruct",
    "generatedAt": 1702234567890
  }
}
```

### GET /health

Health check endpoint.

### GET /ready

Readiness check endpoint.

See [docs/API.md](docs/API.md) for complete API documentation including error codes and rate limiting.

## Testing

```bash
# Run all tests
npm test

# Run with coverage
npm run test:coverage

# Backend only
cd backend && npm test

# Frontend only
cd frontend && npm test
```

## Deployment

### Production Build

```bash
# Build frontend
cd frontend
npm run build

# Start backend in production mode
cd backend
NODE_ENV=production npm start
```

### Environment Configuration

Set these environment variables in production:

```
NODE_ENV=production
PORT=5000
HUGGINGFACE_API_KEY=<production-key>
CORS_ORIGIN=https://yourdomain.com
RATE_LIMIT_MAX=100
```

### Health Checks

Use `/health` and `/ready` endpoints for container orchestration:
- `/health` - Returns 200 if the server is running
- `/ready` - Returns 200 if the server can handle requests

See [docs/DEPLOYMENT.md](docs/DEPLOYMENT.md) for Docker and cloud deployment instructions.

## Project Structure

```
backend/src/
├── features/
│   ├── blog/
│   │   ├── blog.controller.js   # HTTP handlers
│   │   ├── blog.service.js      # Business logic
│   │   └── blog.repository.js   # HuggingFace API calls
│   └── health/
│       └── health.controller.js # Health endpoints
├── infra/
│   ├── config.js                # Environment config
│   └── logger.js                # Structured logging
├── middleware/
│   └── index.js                 # Security, CORS, rate limiting
└── server.js                    # Application entry point

frontend/src/
├── features/
│   └── blog/
│       ├── BlogInput.jsx        # Prompt input form
│       ├── BlogOutput.jsx       # Generated blog display
│       ├── blog.api.js          # API client
│       └── useBlogGeneration.js # State hook
├── components/
│   ├── Hero.jsx                 # Landing hero section
│   ├── Features.jsx             # Feature showcase
│   └── ...                      # Shared components
├── design/
│   ├── motion.js                # Animation tokens
│   └── MotionProvider.jsx       # Animation context
└── styles/
    └── global.css               # Global styles
```

## Documentation

| Document | Description |
|----------|-------------|
| [docs/API.md](docs/API.md) | Complete API reference |
| [docs/ARCHITECTURE.md](docs/ARCHITECTURE.md) | Architecture diagrams and decisions |
| [docs/CONTRIBUTING.md](docs/CONTRIBUTING.md) | Contribution guidelines |
| [docs/DEPLOYMENT.md](docs/DEPLOYMENT.md) | Deployment instructions |

